{
  "id": 30,
  "topic": "Python",
  "level": "Mid Level",
  "question": "Compare two lists ignoring order efficiently in Python",
  "options": [
    "Sort both and compare: O(n log n)",
    "Convert to sets and compare: O(n)",
    "Use Counter: O(n) handles duplicates",
    "Both B and C work, C handles duplicates"
  ],
  "correct": 3,
  "explanation": "**Optimal Solutions: Set (unique) or Counter (with duplicates) - O(n)**\n\n**Problem:** Check if two lists contain same elements\n```\n[1, 2, 3] vs [3, 1, 2] → True (same elements)\n[1, 2, 2] vs [1, 1, 2] → False (different counts)\n[1, 2, 3] vs [1, 2, 4] → False (different elements)\n```\n\n**Key Distinction:**\n```\nUnique elements only:    Use set\nWith duplicate counts:   Use Counter\n```\n\n**Visual Comparison:**\n```\nList 1: [1, 2, 2, 3]\nList 2: [3, 2, 1, 2]\n\nSet comparison:\nset(L1) = {1, 2, 3}\nset(L2) = {1, 2, 3}\n{1,2,3} == {1,2,3} → True ✓\n\nCounter comparison:\nCounter(L1) = {1:1, 2:2, 3:1}\nCounter(L2) = {1:1, 2:2, 3:1}\nCounts match → True ✓\n```\n\n**When Set Fails:**\n```\nList 1: [1, 1, 2]\nList 2: [1, 2, 2]\n\nset(L1) = {1, 2}\nset(L2) = {1, 2}\nSets equal BUT lists different!\n\nCounter(L1) = {1:2, 2:1}\nCounter(L2) = {1:1, 2:2}\nCounters differ → False ✓\n```\n\n**Python Implementation:**\n```python\nfrom collections import Counter\n\n# Method 1: Counter (handles duplicates correctly)\ndef compareLists1(list1, list2):\n    return Counter(list1) == Counter(list2)\n\n# Method 2: Set (only for unique elements)\ndef compareLists2(list1, list2):\n    return set(list1) == set(list2) and len(list1) == len(list2)\n\n# Method 3: Sort and compare (works but slower)\ndef compareLists3(list1, list2):\n    return sorted(list1) == sorted(list2)\n\n# Method 4: Manual frequency count\ndef compareLists4(list1, list2):\n    if len(list1) != len(list2):\n        return False\n    \n    freq1 = {}\n    for item in list1:\n        freq1[item] = freq1.get(item, 0) + 1\n    \n    freq2 = {}\n    for item in list2:\n        freq2[item] = freq2.get(item, 0) + 1\n    \n    return freq1 == freq2\n\n# Method 5: Set with length check (fast for unique)\ndef compareLists5(list1, list2):\n    if len(list1) != len(list2):\n        return False\n    return set(list1) == set(list2)\n```\n\n**Example Traces:**\n```python\n# Example 1: Different counts\nlist1 = [1, 2, 2, 3]\nlist2 = [1, 1, 2, 3]\n\nCounter(list1) = Counter({2: 2, 1: 1, 3: 1})\nCounter(list2) = Counter({1: 2, 2: 1, 3: 1})\n{2:2, 1:1, 3:1} ≠ {1:2, 2:1, 3:1} → False\n\n# Example 2: Same elements, different order\nlist1 = [3, 1, 4, 1, 5]\nlist2 = [1, 1, 3, 4, 5]\n\nCounter(list1) = Counter({1: 2, 3: 1, 4: 1, 5: 1})\nCounter(list2) = Counter({1: 2, 3: 1, 4: 1, 5: 1})\nCounters equal → True\n\n# Example 3: Set fails, Counter correct\nlist1 = [1, 1, 1]\nlist2 = [1]\n\nset(list1) = {1}\nset(list2) = {1}\nSets equal, but len(list1) ≠ len(list2) → False ✓\n\nCounter(list1) = Counter({1: 3})\nCounter(list2) = Counter({1: 1})\nCounters differ → False ✓\n```\n\n**Decision Tree:**\n```\nNeed to compare lists?\n    ↓\nDo duplicates matter?\n    ↓ Yes              ↓ No\nUse Counter      Need length check?\n    O(n)              ↓ Yes      ↓ No\n                 Set + len   Just set\n                     O(n)        O(n)\n```\n\n**Performance Comparison:**\n```\nMethod              Time        Space   Duplicates?\nCounter             O(n)        O(n)    ✓ Yes\nSet + length        O(n)        O(n)    ✓ Yes (with check)\nSet only            O(n)        O(n)    ✗ No\nSort                O(n log n)  O(n)    ✓ Yes\nManual count        O(n)        O(n)    ✓ Yes\nall() + count       O(n²)       O(n)    ✓ Yes (slow)\n```\n\n**Edge Cases:**\n```python\n# Empty lists\ncompareLists1([], [])  # True\n\n# One empty\ncompareLists1([1], [])  # False\n\n# Different lengths\ncompareLists1([1, 2], [1, 2, 3])  # False\n\n# Same element repeated different times\ncompareLists1([1, 1, 1], [1])  # False\n\n# Different types (be careful!)\ncompareLists1([1, '1'], [1, 1])  # False (int vs str)\n\n# Nested lists (unhashable for set)\n# Counter works: Counter([[1,2]]) ✗ Error\n# Need different approach for nested structures\n```\n\n**For Unhashable Elements:**\n```python\n# Lists of lists (can't use Counter or set directly)\ndef compareListsNested(list1, list2):\n    if len(list1) != len(list2):\n        return False\n    \n    # Convert to tuples for hashing\n    from collections import Counter\n    tuple1 = [tuple(x) if isinstance(x, list) else x for x in list1]\n    tuple2 = [tuple(x) if isinstance(x, list) else x for x in list2]\n    \n    return Counter(tuple1) == Counter(tuple2)\n\n# Example\ncompareListsNested([[1,2], [3,4]], [[3,4], [1,2]])  # True\n```\n\n**Real-World Examples:**\n```python\n# Check if two API responses have same IDs\napi1_ids = [101, 102, 103, 104]\napi2_ids = [104, 101, 103, 102]\ncompareLists1(api1_ids, api2_ids)  # True\n\n# Verify duplicate item counts in orders\norder1 = ['apple', 'apple', 'banana']\norder2 = ['apple', 'banana', 'banana']\ncompareLists1(order1, order2)  # False\n\n# Check same set of tags (duplicates don't matter)\ntags1 = ['python', 'coding', 'python']\ntags2 = ['python', 'coding']\nset(tags1) == set(tags2)  # True\n```\n\n**Complexity:**\n- Counter: O(n) time, O(n) space\n- Set: O(n) time, O(n) space\n- Sort: O(n log n) time, O(n) space\n- All handle most cases correctly\n\n**Key Insight:** Use Counter for correctness with duplicates; set comparison only works if you verify lengths or know elements are unique.",
  "timeComplexity": "O(n)",
  "spaceComplexity": "O(n)",
  "videoUrl": "https://www.youtube.com/watch?v=NNiNWcVT6Kc",
  "videoTitle": "Python Lists Comparison and Equality (Real Python)"
}
